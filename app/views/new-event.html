<div class="orbit-circle-container contains-{{step.numOrbitCircles}}-orbit-circles">
	<div class="orbit-circle" 
  ng-repeat="option in step.options | limitTo:10"
  hm-dragstart="setInitialPosition($event)"
  hm-drag="draggingOption($event)"
  hm-dragend="maybeSelectOption($event, step.num, option)"
  hm-tap="hint($event)"
  ng-class="{'selected': option.isSelected}">
    <div class="orbit-circle-rotate-correction">
      <div class="orbit-circle-content {{option.class}}">
        <span ng-if="step.num !== 3">{{option.name}}</span>
        <span ng-if="step.num === 3">{{option.name.abbName}}</span>
        <img ng-if="option.photoUrl" ng-src="{{option.photoUrl}}">
      </div>
    </div>
	</div>
	<div ng-if="step.num != 1" ng-click="showMoreOptions(step.num)" class="orbit-circle">
    <span class="orbit-circle-content"><i class="icon ion-ios7-search-strong"></i></span> 
  </div>
</div>
<div class="primary-circle" loading="loading"></div>
<div ng-if="!loading "class="primary-circle">
	<h2>{{step.text}}</h2>
</div>
<div class="orbit-circle orbit-circle-bottom" ng-click="done(step.num)" ng-disabled="loading">
	<span ng-if="step.num == 1">Cancel</span>
	<span ng-if="step.num != 1">Done</span>
</div>

<div ng-if="moreOptions.show">
  <ion-popover-view>
    <ion-header-bar>
    	<button class="button" ng-click="moreOptionsClose()">x</button>
      <h1 class="title">{{moreOptions.title}}</h1>
      <button class="button" ng-if="step.num == 3" ng-click="done(step.num)">Done</button>
    </ion-header-bar>
    <ion-content>
    	<!-- Locations List -->
      <ion-list ng-if="step.num == 2">
      	<ion-item class="item item-input">
				  <input type="text" placeholder="Search" ng-model="moreOptions.locationFilter">
      	</ion-item>
      	<ion-item ng-repeat="item in moreOptions.options | filter:moreOptions.locationFilter" ng-click="selectOption(step.num, item)" class="item-avatar">
					<div class="item-image">
            <img ng-if="item.photoUrl" ng-src="{{item.photoUrl}}">
          </div>
      		<h2>{{item.name}}</h2>
          <span class="item-note">{{item.tempDistAway}}</span>
      		<p>{{item.location.address}}</p>
      	</ion-item>
      </ion-list>
			
			<!-- People List -->
      <ion-list ng-if="step.num == 3">
      	<ion-item class="item item-input">
				  <input type="text" placeholder="Search" ng-model="moreOptions.peepsFilter">
      	</ion-item>
      	<ion-item ng-repeat="item in moreOptions.options | filter:moreOptions.peepsFilter" ng-click="selectOption(step.num, item)" class="item-avatar">
          <div class="item-image">
            <img ng-if="item.photoUrl && !item.isSelected" ng-src="{{item.photoUrl}}">
            <i ng-if="item.isSelected" class="icon ion-checkmark"></i>
      		</div>
          <h2 ng-if="item.name.fullName">{{item.name.fullName}}</h2>
          <h2 ng-if="!item.name.fullName">{{item.name.firstName}}</h2>
      	</ion-item>
      </ion-list>

    </ion-content>
  </ion-popover-view>
</div>